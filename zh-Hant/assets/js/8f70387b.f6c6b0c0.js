"use strict";(self.webpackChunkoverture_documentation=self.webpackChunkoverture_documentation||[]).push([[3074],{87878:(e,r,t)=>{t.r(r),t.d(r,{assets:()=>u,contentTitle:()=>o,default:()=>x,frontMatter:()=>c,metadata:()=>d,toc:()=>h});var a=t(74848),n=t(28453),s=t(97577);const l="SELECT *\r\nFROM overture.release.__ATHENA_OVERTURE_RELEASE\r\nLIMIT 10\r\n",i="SELECT id,\r\n       names,\r\n       addresses,\r\n       categories,\r\n       confidence,\r\n       sources,\r\n       ST_GeomFromBinary(geometry) AS geometry\r\nFROM\r\n    overture.release.__ATHENA_OVERTURE_RELEASE\r\nWHERE theme='places'\r\n    AND type='place'\r\n    AND bbox.xmin > -122.44\r\n        AND bbox.xmax < -122.25\r\n        AND bbox.ymin > 47.56\r\n        AND bbox.ymax < 47.71\r\n",c={title:"Athena (AWS)"},o=void 0,d={id:"getting-data/athena-aws",title:"Athena (AWS)",description:"\u7ffb\u8b6f\u6587\u6a94\u7684\u4f5c\u8005\u4e0d\u662f\u975e\u5e38\u719f\u6089 AWS\uff0c\u76f8\u95dc\u540d\u8a5e\u4e0d\u662f\u975e\u5e38\u6e96\u78ba\uff0c\u9084\u8acb\u642d\u914d\u539f\u6587\u8b39\u614e\u4f7f\u7528",source:"@site/i18n/zh-Hant/docusaurus-plugin-content-docs/current/getting-data/athena-aws.mdx",sourceDirName:"getting-data",slug:"/getting-data/athena-aws",permalink:"/zh-Hant/getting-data/athena-aws",draft:!1,unlisted:!1,tags:[],version:"current",lastUpdatedAt:1723800366e3,frontMatter:{title:"Athena (AWS)"},sidebar:"docs",previous:{title:"\u8acb\u6c42 Overture \u8cc7\u6599",permalink:"/zh-Hant/getting-data/"},next:{title:"Synapse (Azure)",permalink:"/zh-Hant/getting-data/synapse-azure"}},u={},h=[{value:"1. \u6dfb\u52a0 Overture \u4f5c\u70ba\u8cc7\u6599\u4f86\u6e90",id:"1-\u6dfb\u52a0-overture-\u4f5c\u70ba\u8cc7\u6599\u4f86\u6e90",level:2},{value:"2. \u6aa2\u67e5 release tables",id:"2-\u6aa2\u67e5-release-tables",level:2},{value:"3. \u5f9e release table \u4e2d\u5b58\u53d6\u8cc7\u6599",id:"3-\u5f9e-release-table-\u4e2d\u5b58\u53d6\u8cc7\u6599",level:2}];function p(e){const r={a:"a",admonition:"admonition",code:"code",h2:"h2",img:"img",p:"p",pre:"pre",...(0,n.R)(),...e.components},{Details:c}=r;return c||function(e,r){throw new Error("Expected "+(r?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Details",!0),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(r.admonition,{type:"caution",children:(0,a.jsx)(r.p,{children:"\u7ffb\u8b6f\u6587\u6a94\u7684\u4f5c\u8005\u4e0d\u662f\u975e\u5e38\u719f\u6089 AWS\uff0c\u76f8\u95dc\u540d\u8a5e\u4e0d\u662f\u975e\u5e38\u6e96\u78ba\uff0c\u9084\u8acb\u642d\u914d\u539f\u6587\u8b39\u614e\u4f7f\u7528"})}),"\n",(0,a.jsxs)(r.p,{children:["\u6309\u7167\u4ee5\u4e0b\u6b65\u9a5f\u76f4\u63a5\u5728 AWS \u4e2d\u8a2a\u554f\u548c\u67e5\u8a62 Overture \u8cc7\u6599\u3002\u6ce8\u610f\uff1a\u9700\u8981\u5275\u5efa\u4e00\u500b\u5e33\u6236\u624d\u80fd\u4f7f\u7528 ",(0,a.jsx)(r.a,{href:"https://aws.amazon.com/athena/",children:"Athena"})," \u548c\u5176\u4ed6 AWS \u670d\u52d9\u3002"]}),"\n",(0,a.jsx)(r.admonition,{type:"tip",children:(0,a.jsxs)(r.p,{children:["Overture \u7684 S3 \u5132\u5b58\u8caf\u9ad4\u4f4d\u65bc us-west-2 AWS \u5340\u57df\uff0c\u56e0\u6b64\u4f7f\u7528 ",(0,a.jsx)(r.code,{children:"us-west-2"})," \u4ee5\u7372\u5f97\u6700\u4f73\u6548\u80fd\u3002"]})}),"\n",(0,a.jsx)(r.h2,{id:"1-\u6dfb\u52a0-overture-\u4f5c\u70ba\u8cc7\u6599\u4f86\u6e90",children:"1. \u6dfb\u52a0 Overture \u4f5c\u70ba\u8cc7\u6599\u4f86\u6e90"}),"\n",(0,a.jsxs)(r.p,{children:["\u6309\u7167 ",(0,a.jsx)(r.a,{href:"https://docs.aws.amazon.com/athena/latest/ug/data-sources-glue-cross-account.html",children:"\u9019\u88e1\u7684\u8aaa\u660e"})," \u5c07 Overture \u4f5c\u70ba\u8de8\u5e33\u6236\u8cc7\u6599\u4f86\u6e90\u6dfb\u52a0\u3002Catalog ID \u70ba ",(0,a.jsx)(r.code,{children:"913550007193"}),"\u3002"]}),"\n",(0,a.jsxs)(c,{children:[(0,a.jsx)("summary",{children:"AWS Glue \u8cc7\u6599\u76ee\u9304"}),(0,a.jsx)("div",{children:(0,a.jsx)(r.p,{children:(0,a.jsx)(r.img,{alt:"AWS Glue Catalog",src:t(53809).A+"",width:"1936",height:"1454"})})})]}),"\n",(0,a.jsxs)(r.p,{children:["\u6839\u64da AWS \u4f7f\u7528\u8005\u5e33\u6236/\u89d2\u8272\u6240\u64c1\u6709\u7684\u6b0a\u9650\uff0c\u53ef\u80fd\u9700\u8981\u660e\u78ba\u555f\u7528\u5c0d Overture \u76ee\u9304\u7684\u8a2a\u554f\u3002\u53ef\u4ee5\u901a\u904e ",(0,a.jsx)(r.a,{href:"https://console.aws.amazon.com/iam/home?#/policies?type=customer",children:"\u6dfb\u52a0\u65b0\u7684 IAM \u7b56\u7565"})," \u2014 \u5efa\u8b70\u5c07\u5176\u547d\u540d\u70ba ",(0,a.jsx)(r.code,{children:"OvertureGlueCatalogAccess"})," \u2014 \u4e26\u8a2d\u5b9a\u4ee5\u4e0b\u6b0a\u9650\uff1a"]}),"\n",(0,a.jsxs)(c,{children:[(0,a.jsx)("summary",{children:"IAM policy for Overture Glue Data Catalog access"}),(0,a.jsx)("div",{children:(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-json",children:'{\r\n  "Version": "2012-10-17",\r\n  "Statement": [\r\n    {\r\n      "Effect": "Allow",\r\n      "Action": [\r\n        "glue:GetTable*",\r\n        "glue:GetDatabase*",\r\n        "glue:GetPartition*"\r\n      ],\r\n      "Resource": [\r\n        "arn:aws:glue:us-west-2:913550007193:catalog",\r\n        "arn:aws:glue:us-west-2:913550007193:database/release",\r\n        "arn:aws:glue:us-west-2:913550007193:table/*"\r\n      ]\r\n    }\r\n  ]\r\n}\n'})})})]}),"\n",(0,a.jsx)(r.h2,{id:"2-\u6aa2\u67e5-release-tables",children:"2. \u6aa2\u67e5 release tables"}),"\n",(0,a.jsxs)(r.p,{children:["\u73fe\u5728\uff0c\u6bcf\u500b\u767c\u4f48\u7248\u672c\u90fd\u53ef\u4ee5\u5728 ",(0,a.jsx)(r.code,{children:"overture"})," \u8cc7\u6599\u4f86\u6e90\u4e2d\u7684 ",(0,a.jsx)(r.code,{children:"release"})," \u8cc7\u6599\u5eab\u4e0b\u4f5c\u70ba\u8868\u683c\u67e5\u770b\uff08\u6ce8\u610f\u8868\u540d\u958b\u982d\u7684 ",(0,a.jsx)(r.code,{children:"v"}),"\uff09\u3002\u6bcf\u6b21\u65b0\u767c\u4f48\u6642\uff0c",(0,a.jsx)(r.code,{children:"overture"})," \u8cc7\u6599\u76ee\u9304\u5c07\u6703\u66f4\u65b0\u4e00\u500b\u65b0\u7684\u8868\u683c\u3002"]}),"\n",(0,a.jsxs)(c,{children:[(0,a.jsx)("summary",{children:"Overture Maps release tables"}),(0,a.jsx)("div",{children:(0,a.jsx)(r.p,{children:(0,a.jsx)(r.img,{alt:"Release Tables",src:t(88548).A+"",width:"432",height:"990"})})})]}),"\n",(0,a.jsx)(r.h2,{id:"3-\u5f9e-release-table-\u4e2d\u5b58\u53d6\u8cc7\u6599",children:"3. \u5f9e release table \u4e2d\u5b58\u53d6\u8cc7\u6599"}),"\n",(0,a.jsx)(r.p,{children:"\u60a8\u53ef\u4ee5\u9019\u6a23\u8a2a\u554f\u7279\u5b9a\u767c\u4f48\u7248\u672c\u4e2d\u7684 Overture \u8cc7\u6599\uff1a"}),"\n",(0,a.jsx)(s.A,{query:l}),"\n",(0,a.jsx)(r.p,{children:"\u9019\u662f\u4e00\u500b\u7bc4\u4f8b\u67e5\u8a62\uff0c\u7528\u65bc\u7372\u53d6\u5927\u7d04 25,000 \u500b\u897f\u96c5\u5716\u7684\u5730\u9ede\uff1a"}),"\n",(0,a.jsx)(s.A,{query:i}),"\n",(0,a.jsxs)(r.p,{children:["\u6709\u95dc\u4f7f\u7528 Athena \u7684\u66f4\u591a\u8a0a\u606f\uff0c\u8acb\u53c3\u95b1 ",(0,a.jsx)(r.a,{href:"https://docs.aws.amazon.com/athena/latest/ug/what-is.html",children:"Amazon Athena \u4f7f\u7528\u8005\u6307\u5357"}),"\u3002"]})]})}function x(e={}){const{wrapper:r}={...(0,n.R)(),...e.components};return r?(0,a.jsx)(r,{...e,children:(0,a.jsx)(p,{...e})}):p(e)}},97577:(e,r,t)=>{t.d(r,{A:()=>l});var a=t(52364),n=t(44586),s=t(74848);function l(e){const{siteConfig:{customFields:r}}=(0,n.A)();var t=e.query.replace("__OVERTURE_RELEASE",r.overtureRelease);t=(t=t.replace("__ATHENA_OVERTURE_RELEASE","v"+r.overtureRelease.replaceAll(".","_").replaceAll("-","_"))).replace("__PMTILES_OVERTURE_RELEASE",r.overtureRelease.split(".",1));var l=e.language||"sql";return(0,s.jsx)(a.default,{language:l,title:e.title,children:t})}},53809:(e,r,t)=>{t.d(r,{A:()=>a});const a=t.p+"assets/images/aws-glue-data-catalog-values-56499d44a76f8a08a4ccd2037b1bab47.png"},88548:(e,r,t)=>{t.d(r,{A:()=>a});const a=t.p+"assets/images/overture-release-tables-c49628e54a42157c4c1bf259eaf0daf4.png"}}]);